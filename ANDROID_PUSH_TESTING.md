# Тестирование Push Уведомлений на Android

## Статус развертывания
✅ **APK успешно собран и установлен на устройство M2003J15SC**
✅ **Firebase настроен для Android**
✅ **10-секундные напоминания добавлены**

## Как протестировать на реальном Android устройстве

### 1. Запуск приложения
Приложение уже установлено на устройстве M2003J15SC. Найдите иконку "list_app" и запустите приложение.

### 2. Тестирование локальных уведомлений (работает)
1. Откройте приложение
2. Нажмите на три точки в правом верхнем углу
3. Выберите "Тест уведомления"
4. Должно появиться локальное уведомление

### 3. Тестирование 10-секундных напоминаний
1. Создайте новую задачу (кнопка "+")
2. Заполните название и описание
3. Включите переключатель "Включить напоминания"  
4. Выберите период "10 сек"
5. Нажмите "Добавить"
6. Каждые 10 секунд будет приходить уведомление

### 4. Получение FCM токена для Push уведомлений
Для тестирования push уведомлений нужно получить FCM токен:

```bash
# Смотрим логи приложения
adb logcat -s flutter

# Ищем строку типа:
# flutter: FCM Token: [длинный токен]
```

### 5. Отправка тестового Push уведомления
После получения токена используйте скрипт:

```bash
# Отредактируйте test_push.sh
# Замените YOUR_DEVICE_TOKEN на реальный токен
./test_push.sh
```

### 6. Проверка разрешений
Убедитесь, что разрешения на уведомления включены:
- Настройки Android > Приложения > list_app > Уведомления > Включить

## Особенности Android Push уведомлений

### Firebase Cloud Messaging (FCM)
- ✅ google-services.json настроен
- ✅ Firebase Core и Messaging плагины подключены
- ✅ AndroidManifest настроен с правильными разрешениями
- ✅ NDK версия совместима

### Логи для отладки
```bash
# Общие логи приложения
adb logcat -s flutter

# Firebase логи
adb logcat -s FirebaseMessaging

# Системные уведомления
adb logcat -s NotificationManager
```

## Различия iOS vs Android

| Функция | iOS Simulator | iOS Device | Android Device |
|---------|---------------|------------|----------------|
| Локальные уведомления | ✅ | ✅ | ✅ |
| FCM Push уведомления | ❌ | ✅ | ✅ |
| 10-сек напоминания | ✅ | ✅ | ✅ |
| FCM токен | ❌ | ✅ | ✅ |

## Troubleshooting Android

1. **Приложение не получает Push уведомления**
   - Проверьте FCM токен в логах
   - Убедитесь в правильности Server Key
   - Проверьте разрешения на уведомления

2. **"Error waiting for debug connection"**
   - Это нормально, приложение все равно установлено
   - Используйте `flutter run --release` для обхода проблемы
   - Или запустите приложение вручную с устройства

3. **Локальные уведомления не работают**
   - Проверьте разрешения в настройках Android
   - Убедитесь, что уведомления не заблокированы для приложения

## Следующие шаги
1. Запустите приложение на устройстве
2. Протестируйте локальные уведомления
3. Создайте задачу с 10-секундными напоминаниями  
4. Найдите FCM токен в логах
5. Протестируйте Push уведомления
